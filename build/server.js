/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/cookie-parser/index.js":
/*!*********************************************!*\
  !*** ./node_modules/cookie-parser/index.js ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("/*!\n * cookie-parser\n * Copyright(c) 2014 TJ Holowaychuk\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar cookie = __webpack_require__(/*! cookie */ \"./node_modules/cookie-parser/node_modules/cookie/index.js\")\nvar signature = __webpack_require__(/*! cookie-signature */ \"./node_modules/cookie-parser/node_modules/cookie-signature/index.js\")\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = cookieParser\nmodule.exports.JSONCookie = JSONCookie\nmodule.exports.JSONCookies = JSONCookies\nmodule.exports.signedCookie = signedCookie\nmodule.exports.signedCookies = signedCookies\n\n/**\n * Parse Cookie header and populate `req.cookies`\n * with an object keyed by the cookie names.\n *\n * @param {string|array} [secret] A string (or array of strings) representing cookie signing secret(s).\n * @param {Object} [options]\n * @return {Function}\n * @public\n */\n\nfunction cookieParser (secret, options) {\n  var secrets = !secret || Array.isArray(secret)\n    ? (secret || [])\n    : [secret]\n\n  return function cookieParser (req, res, next) {\n    if (req.cookies) {\n      return next()\n    }\n\n    var cookies = req.headers.cookie\n\n    req.secret = secrets[0]\n    req.cookies = Object.create(null)\n    req.signedCookies = Object.create(null)\n\n    // no cookies\n    if (!cookies) {\n      return next()\n    }\n\n    req.cookies = cookie.parse(cookies, options)\n\n    // parse signed cookies\n    if (secrets.length !== 0) {\n      req.signedCookies = signedCookies(req.cookies, secrets)\n      req.signedCookies = JSONCookies(req.signedCookies)\n    }\n\n    // parse JSON cookies\n    req.cookies = JSONCookies(req.cookies)\n\n    next()\n  }\n}\n\n/**\n * Parse JSON cookie string.\n *\n * @param {String} str\n * @return {Object} Parsed object or undefined if not json cookie\n * @public\n */\n\nfunction JSONCookie (str) {\n  if (typeof str !== 'string' || str.substr(0, 2) !== 'j:') {\n    return undefined\n  }\n\n  try {\n    return JSON.parse(str.slice(2))\n  } catch (err) {\n    return undefined\n  }\n}\n\n/**\n * Parse JSON cookies.\n *\n * @param {Object} obj\n * @return {Object}\n * @public\n */\n\nfunction JSONCookies (obj) {\n  var cookies = Object.keys(obj)\n  var key\n  var val\n\n  for (var i = 0; i < cookies.length; i++) {\n    key = cookies[i]\n    val = JSONCookie(obj[key])\n\n    if (val) {\n      obj[key] = val\n    }\n  }\n\n  return obj\n}\n\n/**\n * Parse a signed cookie string, return the decoded value.\n *\n * @param {String} str signed cookie string\n * @param {string|array} secret\n * @return {String} decoded value\n * @public\n */\n\nfunction signedCookie (str, secret) {\n  if (typeof str !== 'string') {\n    return undefined\n  }\n\n  if (str.substr(0, 2) !== 's:') {\n    return str\n  }\n\n  var secrets = !secret || Array.isArray(secret)\n    ? (secret || [])\n    : [secret]\n\n  for (var i = 0; i < secrets.length; i++) {\n    var val = signature.unsign(str.slice(2), secrets[i])\n\n    if (val !== false) {\n      return val\n    }\n  }\n\n  return false\n}\n\n/**\n * Parse signed cookies, returning an object containing the decoded key/value\n * pairs, while removing the signed key from obj.\n *\n * @param {Object} obj\n * @param {string|array} secret\n * @return {Object}\n * @public\n */\n\nfunction signedCookies (obj, secret) {\n  var cookies = Object.keys(obj)\n  var dec\n  var key\n  var ret = Object.create(null)\n  var val\n\n  for (var i = 0; i < cookies.length; i++) {\n    key = cookies[i]\n    val = obj[key]\n    dec = signedCookie(val, secret)\n\n    if (val !== dec) {\n      ret[key] = dec\n      delete obj[key]\n    }\n  }\n\n  return ret\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29va2llLXBhcnNlci9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRVk7O0FBRVo7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSxtQkFBTyxDQUFDLHlFQUFRO0FBQzdCLGdCQUFnQixtQkFBTyxDQUFDLDZGQUFrQjs7QUFFMUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekIsMEJBQTBCO0FBQzFCLDJCQUEyQjtBQUMzQiw0QkFBNEI7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLGNBQWM7QUFDekIsWUFBWSxRQUFRO0FBQ3BCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0Isb0JBQW9CO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxjQUFjO0FBQ3pCLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0Isb0JBQW9CO0FBQ3RDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycy1jbG9uZS1hcGkvLi9ub2RlX21vZHVsZXMvY29va2llLXBhcnNlci9pbmRleC5qcz80YmQzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogY29va2llLXBhcnNlclxuICogQ29weXJpZ2h0KGMpIDIwMTQgVEogSG9sb3dheWNodWtcbiAqIENvcHlyaWdodChjKSAyMDE1IERvdWdsYXMgQ2hyaXN0b3BoZXIgV2lsc29uXG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4ndXNlIHN0cmljdCdcblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICogQHByaXZhdGVcbiAqL1xuXG52YXIgY29va2llID0gcmVxdWlyZSgnY29va2llJylcbnZhciBzaWduYXR1cmUgPSByZXF1aXJlKCdjb29raWUtc2lnbmF0dXJlJylcblxuLyoqXG4gKiBNb2R1bGUgZXhwb3J0cy5cbiAqIEBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvb2tpZVBhcnNlclxubW9kdWxlLmV4cG9ydHMuSlNPTkNvb2tpZSA9IEpTT05Db29raWVcbm1vZHVsZS5leHBvcnRzLkpTT05Db29raWVzID0gSlNPTkNvb2tpZXNcbm1vZHVsZS5leHBvcnRzLnNpZ25lZENvb2tpZSA9IHNpZ25lZENvb2tpZVxubW9kdWxlLmV4cG9ydHMuc2lnbmVkQ29va2llcyA9IHNpZ25lZENvb2tpZXNcblxuLyoqXG4gKiBQYXJzZSBDb29raWUgaGVhZGVyIGFuZCBwb3B1bGF0ZSBgcmVxLmNvb2tpZXNgXG4gKiB3aXRoIGFuIG9iamVjdCBrZXllZCBieSB0aGUgY29va2llIG5hbWVzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSBbc2VjcmV0XSBBIHN0cmluZyAob3IgYXJyYXkgb2Ygc3RyaW5ncykgcmVwcmVzZW50aW5nIGNvb2tpZSBzaWduaW5nIHNlY3JldChzKS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNvb2tpZVBhcnNlciAoc2VjcmV0LCBvcHRpb25zKSB7XG4gIHZhciBzZWNyZXRzID0gIXNlY3JldCB8fCBBcnJheS5pc0FycmF5KHNlY3JldClcbiAgICA/IChzZWNyZXQgfHwgW10pXG4gICAgOiBbc2VjcmV0XVxuXG4gIHJldHVybiBmdW5jdGlvbiBjb29raWVQYXJzZXIgKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgaWYgKHJlcS5jb29raWVzKSB7XG4gICAgICByZXR1cm4gbmV4dCgpXG4gICAgfVxuXG4gICAgdmFyIGNvb2tpZXMgPSByZXEuaGVhZGVycy5jb29raWVcblxuICAgIHJlcS5zZWNyZXQgPSBzZWNyZXRzWzBdXG4gICAgcmVxLmNvb2tpZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gICAgcmVxLnNpZ25lZENvb2tpZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpXG5cbiAgICAvLyBubyBjb29raWVzXG4gICAgaWYgKCFjb29raWVzKSB7XG4gICAgICByZXR1cm4gbmV4dCgpXG4gICAgfVxuXG4gICAgcmVxLmNvb2tpZXMgPSBjb29raWUucGFyc2UoY29va2llcywgb3B0aW9ucylcblxuICAgIC8vIHBhcnNlIHNpZ25lZCBjb29raWVzXG4gICAgaWYgKHNlY3JldHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICByZXEuc2lnbmVkQ29va2llcyA9IHNpZ25lZENvb2tpZXMocmVxLmNvb2tpZXMsIHNlY3JldHMpXG4gICAgICByZXEuc2lnbmVkQ29va2llcyA9IEpTT05Db29raWVzKHJlcS5zaWduZWRDb29raWVzKVxuICAgIH1cblxuICAgIC8vIHBhcnNlIEpTT04gY29va2llc1xuICAgIHJlcS5jb29raWVzID0gSlNPTkNvb2tpZXMocmVxLmNvb2tpZXMpXG5cbiAgICBuZXh0KClcbiAgfVxufVxuXG4vKipcbiAqIFBhcnNlIEpTT04gY29va2llIHN0cmluZy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtPYmplY3R9IFBhcnNlZCBvYmplY3Qgb3IgdW5kZWZpbmVkIGlmIG5vdCBqc29uIGNvb2tpZVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIEpTT05Db29raWUgKHN0cikge1xuICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycgfHwgc3RyLnN1YnN0cigwLCAyKSAhPT0gJ2o6Jykge1xuICAgIHJldHVybiB1bmRlZmluZWRcbiAgfVxuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyLnNsaWNlKDIpKVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkXG4gIH1cbn1cblxuLyoqXG4gKiBQYXJzZSBKU09OIGNvb2tpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIEpTT05Db29raWVzIChvYmopIHtcbiAgdmFyIGNvb2tpZXMgPSBPYmplY3Qua2V5cyhvYmopXG4gIHZhciBrZXlcbiAgdmFyIHZhbFxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IGNvb2tpZXNbaV1cbiAgICB2YWwgPSBKU09OQ29va2llKG9ialtrZXldKVxuXG4gICAgaWYgKHZhbCkge1xuICAgICAgb2JqW2tleV0gPSB2YWxcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqXG59XG5cbi8qKlxuICogUGFyc2UgYSBzaWduZWQgY29va2llIHN0cmluZywgcmV0dXJuIHRoZSBkZWNvZGVkIHZhbHVlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgc2lnbmVkIGNvb2tpZSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSBzZWNyZXRcbiAqIEByZXR1cm4ge1N0cmluZ30gZGVjb2RlZCB2YWx1ZVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHNpZ25lZENvb2tpZSAoc3RyLCBzZWNyZXQpIHtcbiAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG5cbiAgaWYgKHN0ci5zdWJzdHIoMCwgMikgIT09ICdzOicpIHtcbiAgICByZXR1cm4gc3RyXG4gIH1cblxuICB2YXIgc2VjcmV0cyA9ICFzZWNyZXQgfHwgQXJyYXkuaXNBcnJheShzZWNyZXQpXG4gICAgPyAoc2VjcmV0IHx8IFtdKVxuICAgIDogW3NlY3JldF1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHNlY3JldHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgdmFsID0gc2lnbmF0dXJlLnVuc2lnbihzdHIuc2xpY2UoMiksIHNlY3JldHNbaV0pXG5cbiAgICBpZiAodmFsICE9PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIHZhbFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG4vKipcbiAqIFBhcnNlIHNpZ25lZCBjb29raWVzLCByZXR1cm5pbmcgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRlY29kZWQga2V5L3ZhbHVlXG4gKiBwYWlycywgd2hpbGUgcmVtb3ZpbmcgdGhlIHNpZ25lZCBrZXkgZnJvbSBvYmouXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IHNlY3JldFxuICogQHJldHVybiB7T2JqZWN0fVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHNpZ25lZENvb2tpZXMgKG9iaiwgc2VjcmV0KSB7XG4gIHZhciBjb29raWVzID0gT2JqZWN0LmtleXMob2JqKVxuICB2YXIgZGVjXG4gIHZhciBrZXlcbiAgdmFyIHJldCA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgdmFyIHZhbFxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IGNvb2tpZXNbaV1cbiAgICB2YWwgPSBvYmpba2V5XVxuICAgIGRlYyA9IHNpZ25lZENvb2tpZSh2YWwsIHNlY3JldClcblxuICAgIGlmICh2YWwgIT09IGRlYykge1xuICAgICAgcmV0W2tleV0gPSBkZWNcbiAgICAgIGRlbGV0ZSBvYmpba2V5XVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXRcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/cookie-parser/index.js\n");

/***/ }),

/***/ "./node_modules/cookie-parser/node_modules/cookie-signature/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/cookie-parser/node_modules/cookie-signature/index.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("/**\n * Module dependencies.\n */\n\nvar crypto = __webpack_require__(/*! crypto */ \"crypto\");\n\n/**\n * Sign the given `val` with `secret`.\n *\n * @param {String} val\n * @param {String} secret\n * @return {String}\n * @api private\n */\n\nexports.sign = function(val, secret){\n  if ('string' != typeof val) throw new TypeError(\"Cookie value must be provided as a string.\");\n  if ('string' != typeof secret) throw new TypeError(\"Secret string must be provided.\");\n  return val + '.' + crypto\n    .createHmac('sha256', secret)\n    .update(val)\n    .digest('base64')\n    .replace(/\\=+$/, '');\n};\n\n/**\n * Unsign and decode the given `val` with `secret`,\n * returning `false` if the signature is invalid.\n *\n * @param {String} val\n * @param {String} secret\n * @return {String|Boolean}\n * @api private\n */\n\nexports.unsign = function(val, secret){\n  if ('string' != typeof val) throw new TypeError(\"Signed cookie string must be provided.\");\n  if ('string' != typeof secret) throw new TypeError(\"Secret string must be provided.\");\n  var str = val.slice(0, val.lastIndexOf('.'))\n    , mac = exports.sign(str, secret);\n  \n  return sha1(mac) == sha1(val) ? str : false;\n};\n\n/**\n * Private\n */\n\nfunction sha1(str){\n  return crypto.createHash('sha1').update(str).digest('hex');\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29va2llLXBhcnNlci9ub2RlX21vZHVsZXMvY29va2llLXNpZ25hdHVyZS9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSxtQkFBTyxDQUFDLHNCQUFROztBQUU3QjtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixZQUFZO0FBQ1o7QUFDQTs7QUFFQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3JzLWNsb25lLWFwaS8uL25vZGVfbW9kdWxlcy9jb29raWUtcGFyc2VyL25vZGVfbW9kdWxlcy9jb29raWUtc2lnbmF0dXJlL2luZGV4LmpzPzhhM2YiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKTtcblxuLyoqXG4gKiBTaWduIHRoZSBnaXZlbiBgdmFsYCB3aXRoIGBzZWNyZXRgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWNyZXRcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuc2lnbiA9IGZ1bmN0aW9uKHZhbCwgc2VjcmV0KXtcbiAgaWYgKCdzdHJpbmcnICE9IHR5cGVvZiB2YWwpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDb29raWUgdmFsdWUgbXVzdCBiZSBwcm92aWRlZCBhcyBhIHN0cmluZy5cIik7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2Ygc2VjcmV0KSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2VjcmV0IHN0cmluZyBtdXN0IGJlIHByb3ZpZGVkLlwiKTtcbiAgcmV0dXJuIHZhbCArICcuJyArIGNyeXB0b1xuICAgIC5jcmVhdGVIbWFjKCdzaGEyNTYnLCBzZWNyZXQpXG4gICAgLnVwZGF0ZSh2YWwpXG4gICAgLmRpZ2VzdCgnYmFzZTY0JylcbiAgICAucmVwbGFjZSgvXFw9KyQvLCAnJyk7XG59O1xuXG4vKipcbiAqIFVuc2lnbiBhbmQgZGVjb2RlIHRoZSBnaXZlbiBgdmFsYCB3aXRoIGBzZWNyZXRgLFxuICogcmV0dXJuaW5nIGBmYWxzZWAgaWYgdGhlIHNpZ25hdHVyZSBpcyBpbnZhbGlkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWNyZXRcbiAqIEByZXR1cm4ge1N0cmluZ3xCb29sZWFufVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy51bnNpZ24gPSBmdW5jdGlvbih2YWwsIHNlY3JldCl7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2YgdmFsKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2lnbmVkIGNvb2tpZSBzdHJpbmcgbXVzdCBiZSBwcm92aWRlZC5cIik7XG4gIGlmICgnc3RyaW5nJyAhPSB0eXBlb2Ygc2VjcmV0KSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU2VjcmV0IHN0cmluZyBtdXN0IGJlIHByb3ZpZGVkLlwiKTtcbiAgdmFyIHN0ciA9IHZhbC5zbGljZSgwLCB2YWwubGFzdEluZGV4T2YoJy4nKSlcbiAgICAsIG1hYyA9IGV4cG9ydHMuc2lnbihzdHIsIHNlY3JldCk7XG4gIFxuICByZXR1cm4gc2hhMShtYWMpID09IHNoYTEodmFsKSA/IHN0ciA6IGZhbHNlO1xufTtcblxuLyoqXG4gKiBQcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2hhMShzdHIpe1xuICByZXR1cm4gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTEnKS51cGRhdGUoc3RyKS5kaWdlc3QoJ2hleCcpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/cookie-parser/node_modules/cookie-signature/index.js\n");

/***/ }),

/***/ "./node_modules/cookie-parser/node_modules/cookie/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/cookie-parser/node_modules/cookie/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY29va2llLXBhcnNlci9ub2RlX21vZHVsZXMvY29va2llL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxhQUFhO0FBQ2IsaUJBQWlCOztBQUVqQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseUJBQXlCOztBQUV6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZ0JBQWdCO0FBQzdDLGtCQUFrQjtBQUNsQjtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixXQUFXLFVBQVU7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcnMtY2xvbmUtYXBpLy4vbm9kZV9tb2R1bGVzL2Nvb2tpZS1wYXJzZXIvbm9kZV9tb2R1bGVzL2Nvb2tpZS9pbmRleC5qcz8zNjJmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogY29va2llXG4gKiBDb3B5cmlnaHQoYykgMjAxMi0yMDE0IFJvbWFuIFNodHlsbWFuXG4gKiBDb3B5cmlnaHQoYykgMjAxNSBEb3VnbGFzIENocmlzdG9waGVyIFdpbHNvblxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIE1vZHVsZSBleHBvcnRzLlxuICogQHB1YmxpY1xuICovXG5cbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuXG4vKipcbiAqIE1vZHVsZSB2YXJpYWJsZXMuXG4gKiBAcHJpdmF0ZVxuICovXG5cbnZhciBkZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XG52YXIgZW5jb2RlID0gZW5jb2RlVVJJQ29tcG9uZW50O1xudmFyIHBhaXJTcGxpdFJlZ0V4cCA9IC87ICovO1xuXG4vKipcbiAqIFJlZ0V4cCB0byBtYXRjaCBmaWVsZC1jb250ZW50IGluIFJGQyA3MjMwIHNlYyAzLjJcbiAqXG4gKiBmaWVsZC1jb250ZW50ID0gZmllbGQtdmNoYXIgWyAxKiggU1AgLyBIVEFCICkgZmllbGQtdmNoYXIgXVxuICogZmllbGQtdmNoYXIgICA9IFZDSEFSIC8gb2JzLXRleHRcbiAqIG9icy10ZXh0ICAgICAgPSAleDgwLUZGXG4gKi9cblxudmFyIGZpZWxkQ29udGVudFJlZ0V4cCA9IC9eW1xcdTAwMDlcXHUwMDIwLVxcdTAwN2VcXHUwMDgwLVxcdTAwZmZdKyQvO1xuXG4vKipcbiAqIFBhcnNlIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gY29va2llIGhlYWRlciBzdHJpbmcgaW50byBhbiBvYmplY3RcbiAqIFRoZSBvYmplY3QgaGFzIHRoZSB2YXJpb3VzIGNvb2tpZXMgYXMga2V5cyhuYW1lcykgPT4gdmFsdWVzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHJldHVybiB7b2JqZWN0fVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHBhcnNlKHN0ciwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCBzdHIgbXVzdCBiZSBhIHN0cmluZycpO1xuICB9XG5cbiAgdmFyIG9iaiA9IHt9XG4gIHZhciBvcHQgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcGFpcnMgPSBzdHIuc3BsaXQocGFpclNwbGl0UmVnRXhwKTtcbiAgdmFyIGRlYyA9IG9wdC5kZWNvZGUgfHwgZGVjb2RlO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgIHZhciBlcV9pZHggPSBwYWlyLmluZGV4T2YoJz0nKTtcblxuICAgIC8vIHNraXAgdGhpbmdzIHRoYXQgZG9uJ3QgbG9vayBsaWtlIGtleT12YWx1ZVxuICAgIGlmIChlcV9pZHggPCAwKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICB2YXIga2V5ID0gcGFpci5zdWJzdHIoMCwgZXFfaWR4KS50cmltKClcbiAgICB2YXIgdmFsID0gcGFpci5zdWJzdHIoKytlcV9pZHgsIHBhaXIubGVuZ3RoKS50cmltKCk7XG5cbiAgICAvLyBxdW90ZWQgdmFsdWVzXG4gICAgaWYgKCdcIicgPT0gdmFsWzBdKSB7XG4gICAgICB2YWwgPSB2YWwuc2xpY2UoMSwgLTEpO1xuICAgIH1cblxuICAgIC8vIG9ubHkgYXNzaWduIG9uY2VcbiAgICBpZiAodW5kZWZpbmVkID09IG9ialtrZXldKSB7XG4gICAgICBvYmpba2V5XSA9IHRyeURlY29kZSh2YWwsIGRlYyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuLyoqXG4gKiBTZXJpYWxpemUgZGF0YSBpbnRvIGEgY29va2llIGhlYWRlci5cbiAqXG4gKiBTZXJpYWxpemUgdGhlIGEgbmFtZSB2YWx1ZSBwYWlyIGludG8gYSBjb29raWUgc3RyaW5nIHN1aXRhYmxlIGZvclxuICogaHR0cCBoZWFkZXJzLiBBbiBvcHRpb25hbCBvcHRpb25zIG9iamVjdCBzcGVjaWZpZWQgY29va2llIHBhcmFtZXRlcnMuXG4gKlxuICogc2VyaWFsaXplKCdmb28nLCAnYmFyJywgeyBodHRwT25seTogdHJ1ZSB9KVxuICogICA9PiBcImZvbz1iYXI7IGh0dHBPbmx5XCJcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IHZhbFxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICogQHJldHVybiB7c3RyaW5nfVxuICogQHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZShuYW1lLCB2YWwsIG9wdGlvbnMpIHtcbiAgdmFyIG9wdCA9IG9wdGlvbnMgfHwge307XG4gIHZhciBlbmMgPSBvcHQuZW5jb2RlIHx8IGVuY29kZTtcblxuICBpZiAodHlwZW9mIGVuYyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBlbmNvZGUgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IG5hbWUgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgdmFyIHZhbHVlID0gZW5jKHZhbCk7XG5cbiAgaWYgKHZhbHVlICYmICFmaWVsZENvbnRlbnRSZWdFeHAudGVzdCh2YWx1ZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdhcmd1bWVudCB2YWwgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgdmFyIHN0ciA9IG5hbWUgKyAnPScgKyB2YWx1ZTtcblxuICBpZiAobnVsbCAhPSBvcHQubWF4QWdlKSB7XG4gICAgdmFyIG1heEFnZSA9IG9wdC5tYXhBZ2UgLSAwO1xuXG4gICAgaWYgKGlzTmFOKG1heEFnZSkgfHwgIWlzRmluaXRlKG1heEFnZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBtYXhBZ2UgaXMgaW52YWxpZCcpXG4gICAgfVxuXG4gICAgc3RyICs9ICc7IE1heC1BZ2U9JyArIE1hdGguZmxvb3IobWF4QWdlKTtcbiAgfVxuXG4gIGlmIChvcHQuZG9tYWluKSB7XG4gICAgaWYgKCFmaWVsZENvbnRlbnRSZWdFeHAudGVzdChvcHQuZG9tYWluKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGRvbWFpbiBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IERvbWFpbj0nICsgb3B0LmRvbWFpbjtcbiAgfVxuXG4gIGlmIChvcHQucGF0aCkge1xuICAgIGlmICghZmllbGRDb250ZW50UmVnRXhwLnRlc3Qob3B0LnBhdGgpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdvcHRpb24gcGF0aCBpcyBpbnZhbGlkJyk7XG4gICAgfVxuXG4gICAgc3RyICs9ICc7IFBhdGg9JyArIG9wdC5wYXRoO1xuICB9XG5cbiAgaWYgKG9wdC5leHBpcmVzKSB7XG4gICAgaWYgKHR5cGVvZiBvcHQuZXhwaXJlcy50b1VUQ1N0cmluZyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignb3B0aW9uIGV4cGlyZXMgaXMgaW52YWxpZCcpO1xuICAgIH1cblxuICAgIHN0ciArPSAnOyBFeHBpcmVzPScgKyBvcHQuZXhwaXJlcy50b1VUQ1N0cmluZygpO1xuICB9XG5cbiAgaWYgKG9wdC5odHRwT25seSkge1xuICAgIHN0ciArPSAnOyBIdHRwT25seSc7XG4gIH1cblxuICBpZiAob3B0LnNlY3VyZSkge1xuICAgIHN0ciArPSAnOyBTZWN1cmUnO1xuICB9XG5cbiAgaWYgKG9wdC5zYW1lU2l0ZSkge1xuICAgIHZhciBzYW1lU2l0ZSA9IHR5cGVvZiBvcHQuc2FtZVNpdGUgPT09ICdzdHJpbmcnXG4gICAgICA/IG9wdC5zYW1lU2l0ZS50b0xvd2VyQ2FzZSgpIDogb3B0LnNhbWVTaXRlO1xuXG4gICAgc3dpdGNoIChzYW1lU2l0ZSkge1xuICAgICAgY2FzZSB0cnVlOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9U3RyaWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdsYXgnOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9TGF4JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdHJpY3QnOlxuICAgICAgICBzdHIgKz0gJzsgU2FtZVNpdGU9U3RyaWN0JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdub25lJzpcbiAgICAgICAgc3RyICs9ICc7IFNhbWVTaXRlPU5vbmUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ29wdGlvbiBzYW1lU2l0ZSBpcyBpbnZhbGlkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN0cjtcbn1cblxuLyoqXG4gKiBUcnkgZGVjb2RpbmcgYSBzdHJpbmcgdXNpbmcgYSBkZWNvZGluZyBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBkZWNvZGVcbiAqIEBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gdHJ5RGVjb2RlKHN0ciwgZGVjb2RlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZShzdHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/cookie-parser/node_modules/cookie/index.js\n");

/***/ }),

/***/ "./src/components/authorization.ts":
/*!*****************************************!*\
  !*** ./src/components/authorization.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"app\": () => (/* binding */ app),\n/* harmony export */   \"authorization\": () => (/* binding */ authorization),\n/* harmony export */   \"client\": () => (/* binding */ client),\n/* harmony export */   \"hash\": () => (/* binding */ hash)\n/* harmony export */ });\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cookie-parser */ \"./node_modules/cookie-parser/index.js\");\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cookie_parser__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_3__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nconst cloudURI = 'mongodb+srv://vercel-admin-user:MCm8xsb6HBmZkcGP@cluster0.b23op1h.mongodb.net/myFirstDatabase?retryWrites=true&w=majority';\r\nconst client = new mongodb__WEBPACK_IMPORTED_MODULE_3__.MongoClient(cloudURI);\r\nconst app = express__WEBPACK_IMPORTED_MODULE_0___default()();\r\nconst hash = (string) => {\r\n    let result = 0;\r\n    for (let i = 0; i < string.length; i++) {\r\n        result += string.charCodeAt(i) + 7;\r\n    }\r\n    return result.toString();\r\n};\r\nfunction authorization() {\r\n    const corsOptions = {\r\n        origin: ['http://localhost:8080', 'http://127.0.0.1:8080'],\r\n        methods: 'GET,PATCH,POST,DELETE,OPTIONS',\r\n        allowedHeaders: ['X-admin-pass', 'X-hash-pass', 'Library'],\r\n        credentials: true,\r\n        maxAge: 86400,\r\n    };\r\n    const findOneByUserName = (email) => __awaiter(this, void 0, void 0, function* () {\r\n        return yield client\r\n            .db('myDatabase')\r\n            .collection('users')\r\n            .findOne({ email: `${email}` });\r\n    });\r\n    app.use(express__WEBPACK_IMPORTED_MODULE_0___default().json());\r\n    app.use(cors__WEBPACK_IMPORTED_MODULE_1___default()(corsOptions));\r\n    app.use(cookie_parser__WEBPACK_IMPORTED_MODULE_2___default()());\r\n    app.get('/listUsers', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.headers['x-admin-pass'] === 'root') {\r\n                const usersArray = yield client.db('myDatabase').collection('users').find().toArray();\r\n                res.end(JSON.stringify(usersArray));\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('!!!Get out intruder!!!');\r\n            }\r\n        });\r\n    });\r\n    app.post('/addUser', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['is-logged-in'] === 'false' || req.cookies['is-logged-in'] === undefined) {\r\n                const reqData = req.body;\r\n                const libraryTemplate = {\r\n                    email: `${reqData.email}`,\r\n                    likedPodcasts: [],\r\n                    subscribedPodcasts: [],\r\n                };\r\n                //check email\r\n                yield findOneByUserName(reqData.email).then((data) => __awaiter(this, void 0, void 0, function* () {\r\n                    if (data === null && Object.keys(reqData).length === 4) {\r\n                        yield client.db('myDatabase').collection('users').insertOne(reqData);\r\n                        //add library template\r\n                        yield client.db('podcastLibrary').collection('library').insertOne(libraryTemplate);\r\n                        res.end(JSON.stringify(reqData));\r\n                    }\r\n                    else {\r\n                        res.status(500);\r\n                        res.end('This user exist');\r\n                    }\r\n                }));\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('You are logged in, please, sign out');\r\n            }\r\n        });\r\n    });\r\n    app.get('/signIn/:email', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            try {\r\n                const user = yield client\r\n                    .db('myDatabase')\r\n                    .collection('users')\r\n                    .findOne({ email: `${req.params.email}` });\r\n                if (user === null) {\r\n                    res.status(404);\r\n                    res.end('This user do not exist or incorrect email');\r\n                }\r\n                else {\r\n                    if (req.cookies['email'] != undefined &&\r\n                        req.cookies['email'] === hash(req.params.email) &&\r\n                        req.cookies['is-logged-in'] === 'true') {\r\n                        res.end(JSON.stringify(user));\r\n                    }\r\n                    else {\r\n                        const userHashPassword = hash(user.userPassword);\r\n                        if (req.headers['x-hash-pass'] === userHashPassword) {\r\n                            res.cookie('email', `${hash(req.params.email)}`, { sameSite: 'none', secure: true });\r\n                            res.cookie('is-logged-in', 'true', { sameSite: 'none', secure: true });\r\n                            res.end(JSON.stringify(user));\r\n                        }\r\n                        else {\r\n                            console.log(req.cookies);\r\n                            res.status(500);\r\n                            res.end('Incorrect password');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (err) {\r\n                res.status(500);\r\n                res.end(err);\r\n            }\r\n        });\r\n    });\r\n    app.get('/signOut/:email', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['email'] != undefined &&\r\n                req.cookies['is-logged-in'] === 'true' &&\r\n                req.cookies['email'] === hash(req.params.email)) {\r\n                res.clearCookie('email');\r\n                res.clearCookie('is-logged-in');\r\n                res.end('You are signOut');\r\n            }\r\n            else {\r\n                res.end('Incorrect email or you are not sign in');\r\n                res.status(500);\r\n            }\r\n        });\r\n    });\r\n    app.delete('/deleteUser/:email', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['is-logged-in'] === 'true' &&\r\n                req.cookies['email'] === hash(req.params.email) &&\r\n                req.cookies['email'] === hash(req.params.email)) {\r\n                try {\r\n                    const user = yield client\r\n                        .db('myDatabase')\r\n                        .collection('users')\r\n                        .findOne({ email: `${req.params.email}` });\r\n                    if (user === null) {\r\n                        res.status(404);\r\n                        res.end('This user do not exist');\r\n                    }\r\n                    else {\r\n                        yield client\r\n                            .db('myDatabase')\r\n                            .collection('users')\r\n                            .deleteOne({ email: `${req.params.email}` });\r\n                        // delete user library\r\n                        yield client\r\n                            .db('podcastLibrary')\r\n                            .collection('library')\r\n                            .deleteOne({ email: `${req.params.email}` });\r\n                        res.clearCookie('email');\r\n                        res.clearCookie('is-logged-in');\r\n                        res.end('This user deleted');\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    res.status(500);\r\n                    res.end(err);\r\n                }\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('You are not logged in or incorrect email');\r\n            }\r\n        });\r\n    });\r\n    app.patch('/updateUser/:email', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const reqData = req.body;\r\n            if (req.cookies['is-logged-in'] === 'true' && req.cookies['email'] === hash(req.params.email)) {\r\n                try {\r\n                    const user = yield client\r\n                        .db('myDatabase')\r\n                        .collection('users')\r\n                        .findOne({ email: `${req.params.email}` });\r\n                    if (user === null) {\r\n                        res.status(404);\r\n                        res.end('This user do not exist');\r\n                    }\r\n                    else {\r\n                        yield client\r\n                            .db('myDatabase')\r\n                            .collection('users')\r\n                            .updateOne({ email: `${req.params.email}` }, { $set: reqData });\r\n                        res.end(JSON.stringify(reqData));\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    res.status(500);\r\n                    res.end(err);\r\n                }\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('You are not logged in or incorrect logged in user(you cant update other users)');\r\n            }\r\n        });\r\n    });\r\n    const server = app.listen(8081, function () {\r\n        const host = server.address().address;\r\n        const port = server.address().port;\r\n        console.log('Example app listening at http://%s:%s', host, port);\r\n    });\r\n}\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxFQUFFLEtBQUssRUFBRSxHQUFHLEdBQUcsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDO3dCQUNwRSxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztxQkFDcEM7aUJBQ0o7Z0JBQUMsT0FBTyxHQUFHLEVBQUU7b0JBQ1YsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDaEIsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztpQkFDaEI7YUFDSjtpQkFBTTtnQkFDSCxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNoQixHQUFHLENBQUMsR0FBRyxDQUFDLGdGQUFnRixDQUFDLENBQUM7YUFDN0Y7UUFDTCxDQUFDO0tBQUEsQ0FBQyxDQUFDO0lBRUgsTUFBTSxNQUFNLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUU7UUFDNUIsTUFBTSxJQUFJLEdBQUksTUFBTSxDQUFDLE9BQU8sRUFBYyxDQUFDLE9BQU8sQ0FBQztRQUNuRCxNQUFNLElBQUksR0FBSSxNQUFNLENBQUMsT0FBTyxFQUFjLENBQUMsSUFBSSxDQUFDO1FBQ2hELE9BQU8sQ0FBQyxHQUFHLENBQUMsdUNBQXVDLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ3JFLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQUUyQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JzLWNsb25lLWFwaS8uL3NyYy9jb21wb25lbnRzL2F1dGhvcml6YXRpb24udHM/NDQ0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VyLCBhZGRyZXNzIH0gZnJvbSAnLi90eXBlJztcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInO1xyXG5pbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gJ21vbmdvZGInO1xyXG5cclxuY29uc3QgY2xvdWRVUkkgPVxyXG4gICAgJ21vbmdvZGIrc3J2Oi8vdmVyY2VsLWFkbWluLXVzZXI6TUNtOHhzYjZIQm1aa2NHUEBjbHVzdGVyMC5iMjNvcDFoLm1vbmdvZGIubmV0L215Rmlyc3REYXRhYmFzZT9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHknO1xyXG5jb25zdCBjbGllbnQgPSBuZXcgTW9uZ29DbGllbnQoY2xvdWRVUkkpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcbmNvbnN0IGhhc2ggPSAoc3RyaW5nOiBzdHJpbmcpID0+IHtcclxuICAgIGxldCByZXN1bHQgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICByZXN1bHQgKz0gc3RyaW5nLmNoYXJDb2RlQXQoaSkgKyA3O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYXV0aG9yaXphdGlvbigpIHtcclxuICAgIGNvbnN0IGNvcnNPcHRpb25zID0ge1xyXG4gICAgICAgIG9yaWdpbjogWydodHRwOi8vbG9jYWxob3N0OjgwODAnLCAnaHR0cDovLzEyNy4wLjAuMTo4MDgwJ10sXHJcbiAgICAgICAgbWV0aG9kczogJ0dFVCxQQVRDSCxQT1NULERFTEVURSxPUFRJT05TJyxcclxuICAgICAgICBhbGxvd2VkSGVhZGVyczogWydYLWFkbWluLXBhc3MnLCAnWC1oYXNoLXBhc3MnLCAnTGlicmFyeSddLFxyXG4gICAgICAgIGNyZWRlbnRpYWxzOiB0cnVlLFxyXG4gICAgICAgIG1heEFnZTogODY0MDAsXHJcbiAgICB9O1xyXG4gICAgY29uc3QgZmluZE9uZUJ5VXNlck5hbWUgPSBhc3luYyAoZW1haWw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHJldHVybiBhd2FpdCBjbGllbnRcclxuICAgICAgICAgICAgLmRiKCdteURhdGFiYXNlJylcclxuICAgICAgICAgICAgLmNvbGxlY3Rpb24oJ3VzZXJzJylcclxuICAgICAgICAgICAgLmZpbmRPbmUoeyBlbWFpbDogYCR7ZW1haWx9YCB9KTtcclxuICAgIH07XHJcblxyXG4gICAgYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbiAgICBhcHAudXNlKGNvcnMoY29yc09wdGlvbnMpKTtcclxuICAgIGFwcC51c2UoY29va2llUGFyc2VyKCkpO1xyXG4gICAgYXBwLmdldCgnL2xpc3RVc2VycycsIGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xyXG4gICAgICAgIGlmIChyZXEuaGVhZGVyc1sneC1hZG1pbi1wYXNzJ10gPT09ICdyb290Jykge1xyXG4gICAgICAgICAgICBjb25zdCB1c2Vyc0FycmF5ID0gYXdhaXQgY2xpZW50LmRiKCdteURhdGFiYXNlJykuY29sbGVjdGlvbigndXNlcnMnKS5maW5kKCkudG9BcnJheSgpO1xyXG4gICAgICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHVzZXJzQXJyYXkpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCk7XHJcbiAgICAgICAgICAgIHJlcy5lbmQoJyEhIUdldCBvdXQgaW50cnVkZXIhISEnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBhcHAucG9zdCgnL2FkZFVzZXInLCBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcclxuICAgICAgICBpZiAocmVxLmNvb2tpZXNbJ2lzLWxvZ2dlZC1pbiddID09PSAnZmFsc2UnIHx8IHJlcS5jb29raWVzWydpcy1sb2dnZWQtaW4nXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcURhdGEgPSByZXEuYm9keSBhcyB1c2VyO1xyXG4gICAgICAgICAgICBjb25zdCBsaWJyYXJ5VGVtcGxhdGUgPSB7XHJcbiAgICAgICAgICAgICAgICBlbWFpbDogYCR7cmVxRGF0YS5lbWFpbH1gLFxyXG4gICAgICAgICAgICAgICAgbGlrZWRQb2RjYXN0czogW10sXHJcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVkUG9kY2FzdHM6IFtdLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NoZWNrIGVtYWlsXHJcbiAgICAgICAgICAgIGF3YWl0IGZpbmRPbmVCeVVzZXJOYW1lKHJlcURhdGEuZW1haWwpLnRoZW4oYXN5bmMgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsICYmIE9iamVjdC5rZXlzKHJlcURhdGEpLmxlbmd0aCA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5kYignbXlEYXRhYmFzZScpLmNvbGxlY3Rpb24oJ3VzZXJzJykuaW5zZXJ0T25lKHJlcURhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRkIGxpYnJhcnkgdGVtcGxhdGVcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnQuZGIoJ3BvZGNhc3RMaWJyYXJ5JykuY29sbGVjdGlvbignbGlicmFyeScpLmluc2VydE9uZShsaWJyYXJ5VGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkocmVxRGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyB1c2VyIGV4aXN0Jyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKTtcclxuICAgICAgICAgICAgcmVzLmVuZCgnWW91IGFyZSBsb2dnZWQgaW4sIHBsZWFzZSwgc2lnbiBvdXQnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBhcHAuZ2V0KCcvc2lnbkluLzplbWFpbCcsIGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjbGllbnRcclxuICAgICAgICAgICAgICAgIC5kYignbXlEYXRhYmFzZScpXHJcbiAgICAgICAgICAgICAgICAuY29sbGVjdGlvbigndXNlcnMnKVxyXG4gICAgICAgICAgICAgICAgLmZpbmRPbmUoeyBlbWFpbDogYCR7cmVxLnBhcmFtcy5lbWFpbH1gIH0pO1xyXG4gICAgICAgICAgICBpZiAodXNlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xyXG4gICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyB1c2VyIGRvIG5vdCBleGlzdCBvciBpbmNvcnJlY3QgZW1haWwnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICByZXEuY29va2llc1snZW1haWwnXSAhPSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgICAgICAgICByZXEuY29va2llc1snZW1haWwnXSA9PT0gaGFzaChyZXEucGFyYW1zLmVtYWlsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHJlcS5jb29raWVzWydpcy1sb2dnZWQtaW4nXSA9PT0gJ3RydWUnXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHVzZXIpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckhhc2hQYXNzd29yZCA9IGhhc2godXNlci51c2VyUGFzc3dvcmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXEuaGVhZGVyc1sneC1oYXNoLXBhc3MnXSA9PT0gdXNlckhhc2hQYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuY29va2llKCdlbWFpbCcsIGAke2hhc2gocmVxLnBhcmFtcy5lbWFpbCl9YCwge3NhbWVTaXRlOidub25lJywgc2VjdXJlOiB0cnVlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5jb29raWUoJ2lzLWxvZ2dlZC1pbicsICd0cnVlJywge3NhbWVTaXRlOidub25lJywgc2VjdXJlOiB0cnVlfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkodXNlcikpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcS5jb29raWVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdJbmNvcnJlY3QgcGFzc3dvcmQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApO1xyXG4gICAgICAgICAgICByZXMuZW5kKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXBwLmdldCgnL3NpZ25PdXQvOmVtYWlsJywgYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICByZXEuY29va2llc1snZW1haWwnXSAhPSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgcmVxLmNvb2tpZXNbJ2lzLWxvZ2dlZC1pbiddID09PSAndHJ1ZScgJiZcclxuICAgICAgICAgICAgcmVxLmNvb2tpZXNbJ2VtYWlsJ10gPT09IGhhc2gocmVxLnBhcmFtcy5lbWFpbClcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmVzLmNsZWFyQ29va2llKCdlbWFpbCcpO1xyXG4gICAgICAgICAgICByZXMuY2xlYXJDb29raWUoJ2lzLWxvZ2dlZC1pbicpO1xyXG4gICAgICAgICAgICByZXMuZW5kKCdZb3UgYXJlIHNpZ25PdXQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuZW5kKCdJbmNvcnJlY3QgZW1haWwgb3IgeW91IGFyZSBub3Qgc2lnbiBpbicpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXBwLmRlbGV0ZSgnL2RlbGV0ZVVzZXIvOmVtYWlsJywgYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICByZXEuY29va2llc1snaXMtbG9nZ2VkLWluJ10gPT09ICd0cnVlJyAmJlxyXG4gICAgICAgICAgICByZXEuY29va2llc1snZW1haWwnXSA9PT0gaGFzaChyZXEucGFyYW1zLmVtYWlsKSAmJlxyXG4gICAgICAgICAgICByZXEuY29va2llc1snZW1haWwnXSA9PT0gaGFzaChyZXEucGFyYW1zLmVtYWlsKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IGNsaWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC5kYignbXlEYXRhYmFzZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNvbGxlY3Rpb24oJ3VzZXJzJylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZE9uZSh7IGVtYWlsOiBgJHtyZXEucGFyYW1zLmVtYWlsfWAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodXNlciA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KTtcclxuICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHVzZXIgZG8gbm90IGV4aXN0Jyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZGIoJ215RGF0YWJhc2UnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29sbGVjdGlvbigndXNlcnMnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZGVsZXRlT25lKHsgZW1haWw6IGAke3JlcS5wYXJhbXMuZW1haWx9YCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkZWxldGUgdXNlciBsaWJyYXJ5XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2xpZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYigncG9kY2FzdExpYnJhcnknKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY29sbGVjdGlvbignbGlicmFyeScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kZWxldGVPbmUoeyBlbWFpbDogYCR7cmVxLnBhcmFtcy5lbWFpbH1gIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5jbGVhckNvb2tpZSgnZW1haWwnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXMuY2xlYXJDb29raWUoJ2lzLWxvZ2dlZC1pbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgdXNlciBkZWxldGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApO1xyXG4gICAgICAgICAgICAgICAgcmVzLmVuZChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApO1xyXG4gICAgICAgICAgICByZXMuZW5kKCdZb3UgYXJlIG5vdCBsb2dnZWQgaW4gb3IgaW5jb3JyZWN0IGVtYWlsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXBwLnBhdGNoKCcvdXBkYXRlVXNlci86ZW1haWwnLCBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcclxuICAgICAgICBjb25zdCByZXFEYXRhID0gcmVxLmJvZHkgYXMgdXNlcjtcclxuICAgICAgICBpZiAocmVxLmNvb2tpZXNbJ2lzLWxvZ2dlZC1pbiddID09PSAndHJ1ZScgJiYgcmVxLmNvb2tpZXNbJ2VtYWlsJ10gPT09IGhhc2gocmVxLnBhcmFtcy5lbWFpbCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBjbGllbnRcclxuICAgICAgICAgICAgICAgICAgICAuZGIoJ215RGF0YWJhc2UnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jb2xsZWN0aW9uKCd1c2VycycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmRPbmUoeyBlbWFpbDogYCR7cmVxLnBhcmFtcy5lbWFpbH1gIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLmVuZCgnVGhpcyB1c2VyIGRvIG5vdCBleGlzdCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBjbGllbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRiKCdteURhdGFiYXNlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbGxlY3Rpb24oJ3VzZXJzJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnVwZGF0ZU9uZSh7IGVtYWlsOiBgJHtyZXEucGFyYW1zLmVtYWlsfWAgfSwgeyAkc2V0OiByZXFEYXRhIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkocmVxRGF0YSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKTtcclxuICAgICAgICAgICAgICAgIHJlcy5lbmQoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKTtcclxuICAgICAgICAgICAgcmVzLmVuZCgnWW91IGFyZSBub3QgbG9nZ2VkIGluIG9yIGluY29ycmVjdCBsb2dnZWQgaW4gdXNlcih5b3UgY2FudCB1cGRhdGUgb3RoZXIgdXNlcnMpJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3Qgc2VydmVyID0gYXBwLmxpc3Rlbig4MDgxLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgaG9zdCA9IChzZXJ2ZXIuYWRkcmVzcygpIGFzIGFkZHJlc3MpLmFkZHJlc3M7XHJcbiAgICAgICAgY29uc3QgcG9ydCA9IChzZXJ2ZXIuYWRkcmVzcygpIGFzIGFkZHJlc3MpLnBvcnQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0V4YW1wbGUgYXBwIGxpc3RlbmluZyBhdCBodHRwOi8vJXM6JXMnLCBob3N0LCBwb3J0KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgeyBhdXRob3JpemF0aW9uLCBhcHAsIGNsaWVudCwgaGFzaCB9O1xyXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/components/authorization.ts\n");

/***/ }),

/***/ "./src/components/library.ts":
/*!***********************************!*\
  !*** ./src/components/library.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _authorization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./authorization */ \"./src/components/authorization.ts\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express */ \"express\");\n/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cookie-parser */ \"./node_modules/cookie-parser/index.js\");\n/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cookie_parser__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cors */ \"cors\");\n/* harmony import */ var cors__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cors__WEBPACK_IMPORTED_MODULE_3__);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\nfunction library() {\r\n    const corsOptions = {\r\n        origin: ['http://localhost:8080', 'http://127.0.0.1:8080'],\r\n        methods: 'GET,PATCH,POST,DELETE,OPTIONS',\r\n        allowedHeaders: ['X-admin-pass', 'X-hash-pass', 'Library'],\r\n        credentials: true,\r\n        maxAge: 86400,\r\n    };\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app.use(express__WEBPACK_IMPORTED_MODULE_1___default().json());\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app.use(cors__WEBPACK_IMPORTED_MODULE_3___default()(corsOptions));\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app.use(cookie_parser__WEBPACK_IMPORTED_MODULE_2___default()());\r\n    function checkStatePlaylists(playlist) {\r\n        const checkLikedPodcasts = playlist != 'likedPodcasts';\r\n        const checkSubscribedPodcasts = playlist != 'subscribedPodcasts';\r\n        if (checkSubscribedPodcasts && checkLikedPodcasts)\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app.get('/allPlaylists', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.headers['x-admin-pass'] === 'root') {\r\n                const usersArray = yield _authorization__WEBPACK_IMPORTED_MODULE_0__.client.db('podcastLibrary').collection('library').find().toArray();\r\n                res.end(JSON.stringify(usersArray));\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('!!!Get out intruder!!!');\r\n            }\r\n        });\r\n    });\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app.get('/userLibrary/:email', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['is-logged-in'] !== undefined &&\r\n                req.cookies['email'] === (0,_authorization__WEBPACK_IMPORTED_MODULE_0__.hash)(req.params.email)) {\r\n                const userLibrary = yield _authorization__WEBPACK_IMPORTED_MODULE_0__.client.db('podcastLibrary')\r\n                    .collection('library')\r\n                    .findOne({ email: `${req.params.email}` });\r\n                res.end(JSON.stringify(userLibrary));\r\n            }\r\n            else {\r\n                res.status(404);\r\n                res.end('You are not logged in or incorrect email');\r\n            }\r\n        });\r\n    });\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app.patch('/addNewPlaylist/:email/:playlistName', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['is-logged-in'] !== undefined &&\r\n                req.cookies['email'] === (0,_authorization__WEBPACK_IMPORTED_MODULE_0__.hash)(req.params.email) &&\r\n                checkStatePlaylists(req.params.playlistName)) {\r\n                const playlistName = req.params.playlistName;\r\n                yield _authorization__WEBPACK_IMPORTED_MODULE_0__.client.db('podcastLibrary')\r\n                    .collection('library')\r\n                    .updateOne({ email: `${req.params.email}` }, { $set: { [playlistName]: [] } });\r\n                res.end(`Playlist ${req.params.playlistName} was added`);\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('You are not logged in or incorrect email');\r\n            }\r\n        });\r\n    });\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app.patch('/renamePlaylist/:email/:playlistName/:newPlaylistName', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['is-logged-in'] === 'true' &&\r\n                req.cookies['email'] === (0,_authorization__WEBPACK_IMPORTED_MODULE_0__.hash)(req.params.email) &&\r\n                checkStatePlaylists(req.params.playlistName)) {\r\n                const playlistName = req.params.playlistName;\r\n                yield _authorization__WEBPACK_IMPORTED_MODULE_0__.client.db('podcastLibrary')\r\n                    .collection('library')\r\n                    .updateMany({ email: `${req.params.email}` }, { $rename: { [playlistName]: `${req.params.newPlaylistName}` } });\r\n                res.end(`Playlist ${req.params.playlistName} was renamed to ${req.params.newPlaylistName}`);\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('You are not logged in or incorrect email');\r\n            }\r\n        });\r\n    });\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app.post('/addItemToPlaylist/:email/:playlistName/:itemId', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['is-logged-in'] === 'true' && req.cookies['email'] === (0,_authorization__WEBPACK_IMPORTED_MODULE_0__.hash)(req.params.email)) {\r\n                const playlistName = req.params.playlistName;\r\n                const itemIdObj = { id: `${req.params.itemId}` };\r\n                yield _authorization__WEBPACK_IMPORTED_MODULE_0__.client.db('podcastLibrary')\r\n                    .collection('library')\r\n                    .updateMany({ email: `${req.params.email}` }, {\r\n                    $addToSet: { [playlistName]: itemIdObj },\r\n                });\r\n                res.end(`Item with id:${req.params.itemId} was added`);\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('You are not logged in or incorrect email');\r\n            }\r\n        });\r\n    });\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app[\"delete\"]('/removeItemFromPlaylist/:email/:playlistName/:itemId', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['is-logged-in'] === 'true' && req.cookies['email'] === (0,_authorization__WEBPACK_IMPORTED_MODULE_0__.hash)(req.params.email)) {\r\n                const playlistName = req.params.playlistName;\r\n                const itemIdObj = { id: `${req.params.itemId}` };\r\n                yield _authorization__WEBPACK_IMPORTED_MODULE_0__.client.db('podcastLibrary')\r\n                    .collection('library')\r\n                    .updateMany({ email: `${req.params.email}` }, {\r\n                    $pull: { [playlistName]: itemIdObj },\r\n                });\r\n                res.end(`Item with id:${req.params.itemId} was deleted`);\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('You are not logged in or incorrect email');\r\n            }\r\n        });\r\n    });\r\n    _authorization__WEBPACK_IMPORTED_MODULE_0__.app[\"delete\"]('/removePlaylist/:email/:playlistName', function (req, res) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (req.cookies['is-logged-in'] === 'true' &&\r\n                req.cookies['email'] === (0,_authorization__WEBPACK_IMPORTED_MODULE_0__.hash)(req.params.email) &&\r\n                checkStatePlaylists(req.params.playlistName)) {\r\n                const playlistName = req.params.playlistName;\r\n                yield _authorization__WEBPACK_IMPORTED_MODULE_0__.client.db('podcastLibrary')\r\n                    .collection('library')\r\n                    .updateMany({ email: `${req.params.email}` }, { $unset: { [playlistName]: '' } });\r\n                res.end(`Playlist ${req.params.playlistName} was deleted`);\r\n            }\r\n            else {\r\n                res.status(500);\r\n                res.end('You are not logged in or incorrect email');\r\n            }\r\n        });\r\n    });\r\n}\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (library);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxDQUFDO0lBRUgseURBQVUsQ0FBQyxzQ0FBc0MsRUFBRSxVQUFnQixHQUFHLEVBQUUsR0FBRzs7WUFDdkUsSUFDSSxHQUFHLENBQUMsT0FBTyxDQUFDLGNBQWMsQ0FBQyxLQUFLLE1BQU07Z0JBQ3RDLEdBQUcsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssb0RBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztnQkFDL0MsbUJBQW1CLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUMsRUFDOUM7Z0JBQ0UsTUFBTSxZQUFZLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxZQUFZLENBQUM7Z0JBQzdDLE1BQU0scURBQ0MsQ0FBQyxnQkFBZ0IsQ0FBQztxQkFDcEIsVUFBVSxDQUFDLFNBQVMsQ0FBQztxQkFDckIsVUFBVSxDQUFDLEVBQUUsS0FBSyxFQUFFLEdBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7Z0JBQ3RGLEdBQUcsQ0FBQyxHQUFHLENBQUMsWUFBWSxHQUFHLENBQUMsTUFBTSxDQUFDLFlBQVksY0FBYyxDQUFDLENBQUM7YUFDOUQ7aUJBQU07Z0JBQ0gsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDaEIsR0FBRyxDQUFDLEdBQUcsQ0FBQywwQ0FBMEMsQ0FBQyxDQUFDO2FBQ3ZEO1FBQ0wsQ0FBQztLQUFBLENBQUMsQ0FBQztBQUNQLENBQUM7QUFFRCxpRUFBZSxPQUFPLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ycy1jbG9uZS1hcGkvLi9zcmMvY29tcG9uZW50cy9saWJyYXJ5LnRzP2RmNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXBwLCBoYXNoIH0gZnJvbSAnLi9hdXRob3JpemF0aW9uJztcclxuaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IGNsaWVudCB9IGZyb20gJy4vYXV0aG9yaXphdGlvbic7XHJcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcic7XHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnO1xyXG5pbXBvcnQgeyBBZGRUb1NldE9wZXJhdG9ycyB9IGZyb20gJ21vbmdvZGInO1xyXG5pbXBvcnQgeyBQdWxsT3BlcmF0b3IgfSBmcm9tICdtb25nb2RiJztcclxuXHJcbmZ1bmN0aW9uIGxpYnJhcnkoKSB7XHJcbiAgICBjb25zdCBjb3JzT3B0aW9ucyA9IHtcclxuICAgICAgICBvcmlnaW46IFsnaHR0cDovL2xvY2FsaG9zdDo4MDgwJywgJ2h0dHA6Ly8xMjcuMC4wLjE6ODA4MCddLFxyXG4gICAgICAgIG1ldGhvZHM6ICdHRVQsUEFUQ0gsUE9TVCxERUxFVEUsT1BUSU9OUycsXHJcbiAgICAgICAgYWxsb3dlZEhlYWRlcnM6IFsnWC1hZG1pbi1wYXNzJywgJ1gtaGFzaC1wYXNzJywgJ0xpYnJhcnknXSxcclxuICAgICAgICBjcmVkZW50aWFsczogdHJ1ZSxcclxuICAgICAgICBtYXhBZ2U6IDg2NDAwLFxyXG4gICAgfTtcclxuICAgIGFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xyXG4gICAgYXBwLnVzZShjb3JzKGNvcnNPcHRpb25zKSk7XHJcbiAgICBhcHAudXNlKGNvb2tpZVBhcnNlcigpKTtcclxuICAgIGZ1bmN0aW9uIGNoZWNrU3RhdGVQbGF5bGlzdHMocGxheWxpc3Q6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IGNoZWNrTGlrZWRQb2RjYXN0cyA9IHBsYXlsaXN0ICE9ICdsaWtlZFBvZGNhc3RzJztcclxuICAgICAgICBjb25zdCBjaGVja1N1YnNjcmliZWRQb2RjYXN0cyA9IHBsYXlsaXN0ICE9ICdzdWJzY3JpYmVkUG9kY2FzdHMnO1xyXG4gICAgICAgIGlmIChjaGVja1N1YnNjcmliZWRQb2RjYXN0cyAmJiBjaGVja0xpa2VkUG9kY2FzdHMpIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGVsc2UgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFwcC5nZXQoJy9hbGxQbGF5bGlzdHMnLCBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcclxuICAgICAgICBpZiAocmVxLmhlYWRlcnNbJ3gtYWRtaW4tcGFzcyddID09PSAncm9vdCcpIHtcclxuICAgICAgICAgICAgY29uc3QgdXNlcnNBcnJheSA9IGF3YWl0IGNsaWVudC5kYigncG9kY2FzdExpYnJhcnknKS5jb2xsZWN0aW9uKCdsaWJyYXJ5JykuZmluZCgpLnRvQXJyYXkoKTtcclxuICAgICAgICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh1c2Vyc0FycmF5KSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApO1xyXG4gICAgICAgICAgICByZXMuZW5kKCchISFHZXQgb3V0IGludHJ1ZGVyISEhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXBwLmdldCgnL3VzZXJMaWJyYXJ5LzplbWFpbCcsIGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgcmVxLmNvb2tpZXNbJ2lzLWxvZ2dlZC1pbiddICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgcmVxLmNvb2tpZXNbJ2VtYWlsJ10gPT09IGhhc2gocmVxLnBhcmFtcy5lbWFpbClcclxuICAgICAgICApIHtcclxuICAgICAgICBjb25zdCB1c2VyTGlicmFyeSA9IGF3YWl0IGNsaWVudFxyXG4gICAgICAgICAgICAuZGIoJ3BvZGNhc3RMaWJyYXJ5JylcclxuICAgICAgICAgICAgLmNvbGxlY3Rpb24oJ2xpYnJhcnknKVxyXG4gICAgICAgICAgICAuZmluZE9uZSh7IGVtYWlsOiBgJHtyZXEucGFyYW1zLmVtYWlsfWAgfSk7XHJcbiAgICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh1c2VyTGlicmFyeSkpO1xyXG4gICAgICAgIH0gZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpO1xyXG4gICAgICAgICAgICByZXMuZW5kKCdZb3UgYXJlIG5vdCBsb2dnZWQgaW4gb3IgaW5jb3JyZWN0IGVtYWlsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXBwLnBhdGNoKCcvYWRkTmV3UGxheWxpc3QvOmVtYWlsLzpwbGF5bGlzdE5hbWUnLCBhc3luYyBmdW5jdGlvbiAocmVxLCByZXMpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHJlcS5jb29raWVzWydpcy1sb2dnZWQtaW4nXSAhPT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIHJlcS5jb29raWVzWydlbWFpbCddID09PSBoYXNoKHJlcS5wYXJhbXMuZW1haWwpICYmXHJcbiAgICAgICAgICAgIGNoZWNrU3RhdGVQbGF5bGlzdHMocmVxLnBhcmFtcy5wbGF5bGlzdE5hbWUpXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXlsaXN0TmFtZSA9IHJlcS5wYXJhbXMucGxheWxpc3ROYW1lO1xyXG4gICAgICAgICAgICBhd2FpdCBjbGllbnRcclxuICAgICAgICAgICAgICAgIC5kYigncG9kY2FzdExpYnJhcnknKVxyXG4gICAgICAgICAgICAgICAgLmNvbGxlY3Rpb24oJ2xpYnJhcnknKVxyXG4gICAgICAgICAgICAgICAgLnVwZGF0ZU9uZSh7IGVtYWlsOiBgJHtyZXEucGFyYW1zLmVtYWlsfWAgfSwgeyAkc2V0OiB7IFtwbGF5bGlzdE5hbWVdOiBbXSB9IH0pO1xyXG4gICAgICAgICAgICByZXMuZW5kKGBQbGF5bGlzdCAke3JlcS5wYXJhbXMucGxheWxpc3ROYW1lfSB3YXMgYWRkZWRgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCk7XHJcbiAgICAgICAgICAgIHJlcy5lbmQoJ1lvdSBhcmUgbm90IGxvZ2dlZCBpbiBvciBpbmNvcnJlY3QgZW1haWwnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBhcHAucGF0Y2goJy9yZW5hbWVQbGF5bGlzdC86ZW1haWwvOnBsYXlsaXN0TmFtZS86bmV3UGxheWxpc3ROYW1lJywgYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICByZXEuY29va2llc1snaXMtbG9nZ2VkLWluJ10gPT09ICd0cnVlJyAmJlxyXG4gICAgICAgICAgICByZXEuY29va2llc1snZW1haWwnXSA9PT0gaGFzaChyZXEucGFyYW1zLmVtYWlsKSAmJlxyXG4gICAgICAgICAgICBjaGVja1N0YXRlUGxheWxpc3RzKHJlcS5wYXJhbXMucGxheWxpc3ROYW1lKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5bGlzdE5hbWUgPSByZXEucGFyYW1zLnBsYXlsaXN0TmFtZTtcclxuICAgICAgICAgICAgYXdhaXQgY2xpZW50XHJcbiAgICAgICAgICAgICAgICAuZGIoJ3BvZGNhc3RMaWJyYXJ5JylcclxuICAgICAgICAgICAgICAgIC5jb2xsZWN0aW9uKCdsaWJyYXJ5JylcclxuICAgICAgICAgICAgICAgIC51cGRhdGVNYW55KFxyXG4gICAgICAgICAgICAgICAgICAgIHsgZW1haWw6IGAke3JlcS5wYXJhbXMuZW1haWx9YCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgJHJlbmFtZTogeyBbcGxheWxpc3ROYW1lXTogYCR7cmVxLnBhcmFtcy5uZXdQbGF5bGlzdE5hbWV9YCB9IH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIHJlcy5lbmQoYFBsYXlsaXN0ICR7cmVxLnBhcmFtcy5wbGF5bGlzdE5hbWV9IHdhcyByZW5hbWVkIHRvICR7cmVxLnBhcmFtcy5uZXdQbGF5bGlzdE5hbWV9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApO1xyXG4gICAgICAgICAgICByZXMuZW5kKCdZb3UgYXJlIG5vdCBsb2dnZWQgaW4gb3IgaW5jb3JyZWN0IGVtYWlsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgYXBwLnBvc3QoJy9hZGRJdGVtVG9QbGF5bGlzdC86ZW1haWwvOnBsYXlsaXN0TmFtZS86aXRlbUlkJywgYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgaWYgKHJlcS5jb29raWVzWydpcy1sb2dnZWQtaW4nXSA9PT0gJ3RydWUnICYmIHJlcS5jb29raWVzWydlbWFpbCddID09PSBoYXNoKHJlcS5wYXJhbXMuZW1haWwpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXlsaXN0TmFtZSA9IHJlcS5wYXJhbXMucGxheWxpc3ROYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtSWRPYmogPSB7IGlkOiBgJHtyZXEucGFyYW1zLml0ZW1JZH1gIH07XHJcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudFxyXG4gICAgICAgICAgICAgICAgLmRiKCdwb2RjYXN0TGlicmFyeScpXHJcbiAgICAgICAgICAgICAgICAuY29sbGVjdGlvbignbGlicmFyeScpXHJcbiAgICAgICAgICAgICAgICAudXBkYXRlTWFueSh7IGVtYWlsOiBgJHtyZXEucGFyYW1zLmVtYWlsfWAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICRhZGRUb1NldDogeyBbcGxheWxpc3ROYW1lXTogaXRlbUlkT2JqIH0sXHJcbiAgICAgICAgICAgICAgICB9IGFzIEFkZFRvU2V0T3BlcmF0b3JzPERvY3VtZW50Pik7XHJcbiAgICAgICAgICAgIHJlcy5lbmQoYEl0ZW0gd2l0aCBpZDoke3JlcS5wYXJhbXMuaXRlbUlkfSB3YXMgYWRkZWRgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCk7XHJcbiAgICAgICAgICAgIHJlcy5lbmQoJ1lvdSBhcmUgbm90IGxvZ2dlZCBpbiBvciBpbmNvcnJlY3QgZW1haWwnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBhcHAuZGVsZXRlKCcvcmVtb3ZlSXRlbUZyb21QbGF5bGlzdC86ZW1haWwvOnBsYXlsaXN0TmFtZS86aXRlbUlkJywgYXN5bmMgZnVuY3Rpb24gKHJlcSwgcmVzKSB7XHJcbiAgICAgICAgaWYgKHJlcS5jb29raWVzWydpcy1sb2dnZWQtaW4nXSA9PT0gJ3RydWUnICYmIHJlcS5jb29raWVzWydlbWFpbCddID09PSBoYXNoKHJlcS5wYXJhbXMuZW1haWwpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXlsaXN0TmFtZSA9IHJlcS5wYXJhbXMucGxheWxpc3ROYW1lO1xyXG4gICAgICAgICAgICBjb25zdCBpdGVtSWRPYmogPSB7IGlkOiBgJHtyZXEucGFyYW1zLml0ZW1JZH1gIH07XHJcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudFxyXG4gICAgICAgICAgICAgICAgLmRiKCdwb2RjYXN0TGlicmFyeScpXHJcbiAgICAgICAgICAgICAgICAuY29sbGVjdGlvbignbGlicmFyeScpXHJcbiAgICAgICAgICAgICAgICAudXBkYXRlTWFueSh7IGVtYWlsOiBgJHtyZXEucGFyYW1zLmVtYWlsfWAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICRwdWxsOiB7IFtwbGF5bGlzdE5hbWVdOiBpdGVtSWRPYmogfSxcclxuICAgICAgICAgICAgICAgIH0gYXMgUHVsbE9wZXJhdG9yPERvY3VtZW50Pik7XHJcbiAgICAgICAgICAgIHJlcy5lbmQoYEl0ZW0gd2l0aCBpZDoke3JlcS5wYXJhbXMuaXRlbUlkfSB3YXMgZGVsZXRlZGApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKTtcclxuICAgICAgICAgICAgcmVzLmVuZCgnWW91IGFyZSBub3QgbG9nZ2VkIGluIG9yIGluY29ycmVjdCBlbWFpbCcpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGFwcC5kZWxldGUoJy9yZW1vdmVQbGF5bGlzdC86ZW1haWwvOnBsYXlsaXN0TmFtZScsIGFzeW5jIGZ1bmN0aW9uIChyZXEsIHJlcykge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgcmVxLmNvb2tpZXNbJ2lzLWxvZ2dlZC1pbiddID09PSAndHJ1ZScgJiZcclxuICAgICAgICAgICAgcmVxLmNvb2tpZXNbJ2VtYWlsJ10gPT09IGhhc2gocmVxLnBhcmFtcy5lbWFpbCkgJiZcclxuICAgICAgICAgICAgY2hlY2tTdGF0ZVBsYXlsaXN0cyhyZXEucGFyYW1zLnBsYXlsaXN0TmFtZSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgY29uc3QgcGxheWxpc3ROYW1lID0gcmVxLnBhcmFtcy5wbGF5bGlzdE5hbWU7XHJcbiAgICAgICAgICAgIGF3YWl0IGNsaWVudFxyXG4gICAgICAgICAgICAgICAgLmRiKCdwb2RjYXN0TGlicmFyeScpXHJcbiAgICAgICAgICAgICAgICAuY29sbGVjdGlvbignbGlicmFyeScpXHJcbiAgICAgICAgICAgICAgICAudXBkYXRlTWFueSh7IGVtYWlsOiBgJHtyZXEucGFyYW1zLmVtYWlsfWAgfSwgeyAkdW5zZXQ6IHsgW3BsYXlsaXN0TmFtZV06ICcnIH0gfSk7XHJcbiAgICAgICAgICAgIHJlcy5lbmQoYFBsYXlsaXN0ICR7cmVxLnBhcmFtcy5wbGF5bGlzdE5hbWV9IHdhcyBkZWxldGVkYCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApO1xyXG4gICAgICAgICAgICByZXMuZW5kKCdZb3UgYXJlIG5vdCBsb2dnZWQgaW4gb3IgaW5jb3JyZWN0IGVtYWlsJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxpYnJhcnk7XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/library.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _components_authorization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/authorization */ \"./src/components/authorization.ts\");\n/* harmony import */ var _components_library__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/library */ \"./src/components/library.ts\");\n\r\n\r\n(0,_components_library__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\r\n(0,_components_authorization__WEBPACK_IMPORTED_MODULE_0__.authorization)();\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7O0FBQTJEO0FBQ2hCO0FBQzNDLCtEQUFPLEVBQUUsQ0FBQztBQUNWLHdFQUFhLEVBQUUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3JzLWNsb25lLWFwaS8uL3NyYy9pbmRleC50cz9mZmI0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGF1dGhvcml6YXRpb24gfSBmcm9tICcuL2NvbXBvbmVudHMvYXV0aG9yaXphdGlvbic7XHJcbmltcG9ydCBsaWJyYXJ5IGZyb20gJy4vY29tcG9uZW50cy9saWJyYXJ5JztcclxubGlicmFyeSgpO1xyXG5hdXRob3JpemF0aW9uKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ }),

/***/ "cors":
/*!**********************************!*\
  !*** external "require('cors')" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require('cors');

/***/ }),

/***/ "crypto":
/*!************************************!*\
  !*** external "require('crypto')" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require('crypto');

/***/ }),

/***/ "express":
/*!*************************************!*\
  !*** external "require('express')" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require('express');

/***/ }),

/***/ "mongodb":
/*!*************************************!*\
  !*** external "require('mongodb')" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require('mongodb');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	
/******/ })()
;